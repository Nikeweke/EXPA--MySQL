(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{188:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h2",{attrs:{id:"подзапросы"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#подзапросы","aria-hidden":"true"}},[s._v("#")]),s._v(" ПОДЗАПРОСЫ")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Связь между таблами :\nCustomers(cust_id) -> (cust_id) Orders (order_num) -> (order_num) OrderItems\n")])])]),a("h4",{attrs:{id:"задача-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#задача-1","aria-hidden":"true"}},[s._v("#")]),s._v(" ЗАДАЧА 1")]),s._v(" "),a("p",[s._v("Вывести инфу про клиентов у которых в заказе числиться товар с id = 20098")]),s._v(" "),a("h6",{attrs:{id:"собираем-подзапрос-пошагово"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#собираем-подзапрос-пошагово","aria-hidden":"true"}},[s._v("#")]),s._v(" собираем подзапрос пошагово")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("-- 1 запрос")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- Находим заказы в которых указан продукт с id")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- Результат: 11, 12 № заказов")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" ORDER_NUM "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" OrderItems "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" prod_id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("20098")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- 2 запрос")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- По номеру заказов ищем ID покупателя по таблице заказов, ищем в диапазоне")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CUST_ID "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Orders "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" order_num "),a("span",{attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("11")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token number"}},[s._v("12")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("-- Строим подзапрос")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- 2 запрос")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CUST_ID "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Orders "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" order_num "),a("span",{attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{attrs:{class:"token comment"}},[s._v("-- 1 запрос")]),s._v("\n  "),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" ORDER_NUM "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" OrderItems "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" prod_id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("20098")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])]),a("h6",{attrs:{id:"боnьше-подзапросa-добавnяем-инфу-про-кnинета-нет-тоnько-его-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#боnьше-подзапросa-добавnяем-инфу-про-кnинета-нет-тоnько-его-id","aria-hidden":"true"}},[s._v("#")]),s._v(" Больше подзапросa (добавляем инфу про клинета, нет только его ID)")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("-- 3 запрос")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CUST_NAME"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cust_adress "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Customers\n"),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" CUST_ID "),a("span",{attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\n   "),a("span",{attrs:{class:"token comment"}},[s._v("-- 2 запрос")]),s._v("\n   "),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CUST_ID "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Orders\n    "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" order_num "),a("span",{attrs:{class:"token operator"}},[s._v("IN")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\n      "),a("span",{attrs:{class:"token comment"}},[s._v("-- 1 запрос")]),s._v("\n      "),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" order_num "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" OrderItems "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" prod_id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("20098")]),s._v("\n\n    "),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n "),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])])]),a("h4",{attrs:{id:"задача-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#задача-2","aria-hidden":"true"}},[s._v("#")]),s._v(" ЗАДАЧА 2")]),s._v(" "),a("ul",[a("li",[s._v("Вывод списка клиентов")]),s._v(" "),a("li",[s._v("Подсчитать кол-во их заказов")])]),s._v(" "),a("h6",{attrs:{id:"собираем-подзапрос-пошагово-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#собираем-подзапрос-пошагово-2","aria-hidden":"true"}},[s._v("#")]),s._v(" собираем подзапрос пошагово")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("-- 1 запрос")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- Выбор всех клиентов")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- Результат: клиенты")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Customers\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- 2 запрос")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- Подсчет записей где ID клиента = 2121 (это примерно для того чтобы создать схему) ")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("COUNT")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token operator"}},[s._v("*")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ORDERS\n"),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Orders\n"),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" cust_id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("2121")]),s._v("\n")])])]),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("-- Строим подзапрос")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" CUST_NAME"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" CUST_COUNTRY"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("-- 1 запрос")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- 2 запрос идет как столбик подсчета")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("COUNT")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token operator"}},[s._v("*")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Orders "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" ORDERS"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" CUSTOMERS"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cust_id "),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" ORDERS\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" Customers "),a("span",{attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" CUST_NAME\n\n")])])])])}],!1,null,null,null);e.options.__file="podzaprosi.md";t.default=e.exports}}]);