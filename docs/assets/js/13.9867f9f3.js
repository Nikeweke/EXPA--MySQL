(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{163:function(s,t,a){"use strict";a.r(t);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"ex-of-creating-procedures"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ex-of-creating-procedures","aria-hidden":"true"}},[s._v("#")]),s._v(" Ex. of creating procedures")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{attrs:{class:"token comment"}},[s._v("/************************************************************\n*   Вызов процедуры в php\n*\n***********************************************************/")]),s._v("\n "),a("span",{attrs:{class:"token keyword"}},[s._v("CALL")]),s._v(" ins_EMP"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("'$pass'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("/************************************************************\n*  Выполнение 1 комманд в процедуре\n*\n***********************************************************/")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" ins_del"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vall "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("200")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("into")]),s._v(" kod"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kod"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("vall"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("/************************************************************\n*  Выполнение 2 комманд в процедуре (После каждой комманды - ;)\n*\n***********************************************************/")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" insert_emp"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("var1 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("50")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("var2 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("50")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("var3 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("50")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("var4 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("50")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("var5 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("50")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" employees"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("surname"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" name"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" posada"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" kraina"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("var1"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" var2"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" var3"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" var4"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" kod"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kod"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("var5"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n\n\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("/************************************************************\n*  Выполнение 3 комманд в процедуре (После каждой комманды - ;)\n*\n***********************************************************/")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("TRIGGER")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("del_user_with_diaries_and_settings"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v(" BEFORE "),a("span",{attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("foodcontrol"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("users"),a("span",{attrs:{class:"token punctuation"}},[s._v("`")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("FOR EACH ROW")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" log"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("action")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" table_name"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v("'user was deleted'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token string"}},[s._v("'Users'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" OLD"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("email"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" diaries "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" diaries"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" OLD"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("DELETE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" user_settings "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" user_settings"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("user_id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" OLD"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("/************************************************************\n*  Процедура вставки с параметрами 1 - 4 ШТ. (После каждой комманды - ;)\n*\n***********************************************************/")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" inserter"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token keyword"}},[s._v("int")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n                          table_var "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n                          field_1 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                          field_2 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                          field_3 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                          field_4 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n                          valu_1 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                          valu_2 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                          valu_3 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                          valu_4 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("400")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("IF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" table_var"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("field_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("valu_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" table_var"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("field_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("field_2"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("valu_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" valu_2"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("3")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" table_var"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("field_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("field_2"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("field_3"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("valu_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" valu_2"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" valu_3"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("4")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("INSERT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("INTO")]),s._v(" table_var"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("field_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" field_2"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" field_3"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" field_4"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("VALUES")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("valu_1"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" valu_2"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" valu_3"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" valu_4"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("IF")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("/************************************************************\n*  Процедура вывода с параметром (После каждой комманды - ;)\n*\n***********************************************************/")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("DELIMITER")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("PROCEDURE")]),s._v(" selecter"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token keyword"}},[s._v("int")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" var1 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("50")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" var2 "),a("span",{attrs:{class:"token keyword"}},[s._v("varchar")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token number"}},[s._v("50")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- var 1 - current user")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- var 2 - another member")]),s._v("\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- choice - selector")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("BEGIN")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- TODOIST")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("IF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("1")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" todoist_id"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" todoist_article"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" todoist_done"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" date_format"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("todoist_time"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token string"}},[s._v("'%b. %e, %Y, %k:%i'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("time")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" todoist "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" todoist_visible "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" todoist_user "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" todoist_id "),a("span",{attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- MESSAGES")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" messages"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("author"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" date_format"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("time")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{attrs:{class:"token string"}},[s._v("'%T (%e-%m-%y)'")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("time")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" messages"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("towho"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" messages"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("message "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" messages "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" author "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" towho "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var2 "),a("span",{attrs:{class:"token operator"}},[s._v("OR")]),s._v(" author "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var2 "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" towho "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" messages"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- FRIENDS (1 Request: All members)")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("3")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nickname"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("email"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" images"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img_name "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("images "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" images"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id_user "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{attrs:{class:"token operator"}},[s._v("!=")]),s._v(" var1 "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- FRIENDS (2 Request: Friendships)")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("4")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" friend"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("status")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" notice "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" friends "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" friend "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var2 "),a("span",{attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" id "),a("span",{attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{attrs:{class:"token keyword"}},[s._v("UNION")]),s._v("\n "),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" friend"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("status")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" notice "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" friends "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var2 "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" friend "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" id "),a("span",{attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- MEMBERS (1 Request: All members)")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("5")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nickname"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("email"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" images"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("img_name "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("images "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" images"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id_user "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" members"),a("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),a("span",{attrs:{class:"token operator"}},[s._v("!=")]),s._v(" var1 "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- MEMBERS (2 Request: Current user's requests for frienship)")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("6")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v("friend "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" friends "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" friend "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var2 "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n\n"),a("span",{attrs:{class:"token comment"}},[s._v("-- MEMBERS (3 Request: Friendships)")]),s._v("\n"),a("span",{attrs:{class:"token keyword"}},[s._v("ELSEIF")]),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("choice "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("7")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("THEN")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" friend"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("status")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" notice "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" friends "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" friend "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var2 "),a("span",{attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" id "),a("span",{attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n "),a("span",{attrs:{class:"token keyword"}},[s._v("UNION")]),s._v("\n"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" friend"),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("status")]),a("span",{attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" notice "),a("span",{attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" friends "),a("span",{attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var2 "),a("span",{attrs:{class:"token operator"}},[s._v("AND")]),s._v(" friend "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" var1 "),a("span",{attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" id "),a("span",{attrs:{class:"token keyword"}},[s._v("DESC")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),a("span",{attrs:{class:"token number"}},[s._v("2")]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("IF")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[s._v("END")]),s._v(" "),a("span",{attrs:{class:"token comment"}},[s._v("//")]),s._v("\n\n\n"),a("span",{attrs:{class:"token operator"}},[s._v("!")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),a("span",{attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{attrs:{class:"token keyword"}},[s._v("USING")]),s._v(" : $query "),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(" $db"),a("span",{attrs:{class:"token operator"}},[s._v("-")]),a("span",{attrs:{class:"token operator"}},[s._v(">")]),s._v("query"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{attrs:{class:"token string"}},[s._v('"CALL selecter(1,$current_user,0)"')]),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        бЕЗ КАВЫЧЕК\n\n")])])])])}],!1,null,null,null);o.options.__file="create-procedures.md";t.default=o.exports}}]);